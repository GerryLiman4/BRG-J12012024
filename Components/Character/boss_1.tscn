[gd_scene load_steps=21 format=3 uid="uid://dkoqwk86xiixj"]

[ext_resource type="PackedScene" uid="uid://m1nmatnje01v" path="res://Components/Character/base_enemy.tscn" id="1_8h4av"]
[ext_resource type="Script" path="res://Components/Character/boss_1.gd" id="2_hs4or"]
[ext_resource type="Texture2D" uid="uid://b06jpfs1tnfto" path="res://Resources/basic cute robot/clawbot/1/botzred1.png" id="3_pxvdq"]
[ext_resource type="Texture2D" uid="uid://crd54atceufqd" path="res://Resources/basic cute robot/clawbot/1/botzred2.png" id="4_i2amw"]
[ext_resource type="Texture2D" uid="uid://cj83eqtnjsdko" path="res://Resources/basic cute robot/clawbot/1/botzred3.png" id="5_ippx3"]
[ext_resource type="Texture2D" uid="uid://4md8hs3o3tp4" path="res://Resources/basic cute robot/clawbot/1/botzred4.png" id="6_snl2w"]
[ext_resource type="Texture2D" uid="uid://djjyfisq6ioon" path="res://Resources/Effect/Spritesheets/Blue Slash v2_spritesheet.png" id="7_0csdj"]
[ext_resource type="PackedScene" uid="uid://bcwkugn6v3oy7" path="res://addons/godot_state_charts/utilities/state_chart_debugger.tscn" id="8_if4y3"]

[sub_resource type="Animation" id="Animation_5vx5e"]
resource_name = "Idle"
length = 0.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Model:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [ExtResource("3_pxvdq"), ExtResource("4_i2amw"), ExtResource("5_ippx3"), ExtResource("6_snl2w"), ExtResource("3_pxvdq")]
}

[sub_resource type="Animation" id="Animation_83usp"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Model:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("3_pxvdq")]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_q0wk4"]
_data = {
"Idle": SubResource("Animation_5vx5e"),
"RESET": SubResource("Animation_83usp")
}

[sub_resource type="AtlasTexture" id="AtlasTexture_dpbru"]
atlas = ExtResource("7_0csdj")
region = Rect2(0, 0, 512, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_mctuu"]
atlas = ExtResource("7_0csdj")
region = Rect2(512, 0, 512, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_v5e12"]
atlas = ExtResource("7_0csdj")
region = Rect2(0, 512, 512, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_wys4v"]
atlas = ExtResource("7_0csdj")
region = Rect2(512, 512, 512, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_fm4ql"]
atlas = ExtResource("7_0csdj")
region = Rect2(0, 1024, 512, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_vvmty"]
atlas = ExtResource("7_0csdj")
region = Rect2(512, 1024, 512, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_spxoy"]
atlas = ExtResource("7_0csdj")
region = Rect2(0, 1536, 512, 512)

[sub_resource type="AtlasTexture" id="AtlasTexture_o701c"]
atlas = ExtResource("7_0csdj")
region = Rect2(512, 1536, 512, 512)

[sub_resource type="SpriteFrames" id="SpriteFrames_ysgoy"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dpbru")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mctuu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v5e12")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wys4v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fm4ql")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vvmty")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_spxoy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o701c")
}],
"loop": false,
"name": &"Slash",
"speed": 14.0
}]

[node name="Boss1" node_paths=PackedStringArray("move_timer", "stop_move_timer", "slash_vfx", "test_timer") instance=ExtResource("1_8h4av")]
script = ExtResource("2_hs4or")
move_timer = NodePath("MoveTimer")
stop_move_timer = NodePath("StopMoveTimer")
movement_speed = 3.0
slash_vfx = NodePath("VFX/SlashVFX")
test_timer = NodePath("TestTimer")

[node name="AnimationPlayer" parent="." index="2"]
libraries = {
"": SubResource("AnimationLibrary_q0wk4")
}

[node name="MoveTimer" type="Timer" parent="." index="7"]

[node name="StopMoveTimer" type="Timer" parent="." index="8"]

[node name="VFX" type="Node2D" parent="." index="9"]

[node name="SlashVFX" type="AnimatedSprite2D" parent="VFX" index="0"]
visible = false
rotation = 1.5708
scale = Vector2(0.3, 0.3)
sprite_frames = SubResource("SpriteFrames_ysgoy")
animation = &"Slash"
frame = 7
frame_progress = 1.0

[node name="StateChartDebugger" parent="." index="10" instance=ExtResource("8_if4y3")]
offset_left = -159.0
offset_top = -145.0
offset_right = 166.0
offset_bottom = -22.0
initial_node_to_watch = NodePath("../StateChart")

[node name="TestTimer" type="Timer" parent="." index="11"]

[connection signal="state_processing" from="StateChart/ParallelState/CompoundState/Idle" to="." method="_on_idle_state_processing"]
[connection signal="state_physics_processing" from="StateChart/ParallelState/CompoundState/RandomMovement" to="." method="_on_random_movement_state_physics_processing"]
[connection signal="timeout" from="MoveTimer" to="." method="_on_move_timer_timeout"]
[connection signal="timeout" from="StopMoveTimer" to="." method="_on_stop_move_timer_timeout"]
[connection signal="timeout" from="TestTimer" to="." method="_on_test_timer_timeout"]
